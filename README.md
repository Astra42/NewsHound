# Telegram News Monitor Bot

![Python](https://img.shields.io/badge/Python-3.13%2B-blue) ![aiogram](https://img.shields.io/badge/aiogram-3.x-green) ![Status](https://img.shields.io/badge/Status-Active-brightgreen)

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Telegram News Monitor Bot** ‚Äî —ç—Ç–æ AI-powered –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–º–º–∞—Ä–∏ –ø–æ –¥–∞—Ç–∞–º.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ—Ä—è—é—Ç –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ø–æ—Ç–æ–∫–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ Telegram-–∫–∞–Ω–∞–ª–æ–≤, —Å–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É.

**–†–µ—à–µ–Ω–∏–µ:** –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç, –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É —á–µ—Ä–µ–∑ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üîÑ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –∏–∑ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- ü§ñ **AI-–æ—Ç–≤–µ—Ç—ã** ‚Äî –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RAG (Retrieval-Augmented Generation) —á–µ—Ä–µ–∑ LangGraph
- üìä **–°–∞–º–º–∞—Ä–∏ –ø–æ –¥–∞—Ç–∞–º** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Ç–∫–∏—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∑—é–º–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞
- ‚ö° **–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫** ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----------|-----------|
| **Telegram API** | aiogram 3.x | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram (–æ—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π) |
| **–ü–∞—Ä—Å–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤** | telethon | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤ |
| **LLM & RAG** | LangChain, LangGraph | –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ |
| **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è** | FastAPI | REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º |
| **–•—Ä–∞–Ω–∏–ª–∏—â–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤** | FAISS / PostgreSQL | –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL | –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å—Ç–æ—Ä–∏–∏ |
| **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏** | OpenAI Embeddings / Hugging Face | –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ |

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
aiogram==3.x           # Telegram Bot API
telethon==1.x          # Telegram client –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
langchain==0.1.x       # LLM framework
langgraph==0.1.x       # Multi-agent orchestration
fastapi==0.104.x       # Web framework
pydantic==2.x          # Data validation
sqlalchemy==2.x        # ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
psycopg2-binary        # PostgreSQL adapter
qdrant-client          # Vector database client
python-dotenv          # Environment variables
```

---

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –Ω–æ–≤–æ—Å—Ç–µ–π

#### `/add_group <–≥—Ä—É–ø–ø–∞_—Å—Å—ã–ª–∫–∞>`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å Telegram-–∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É –≤ —Å–ø–∏—Å–æ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  
**–î–µ–π—Å—Ç–≤–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ PostgreSQL (—Ç–∞–±–ª–∏—Ü–∞ `channels`)
- –°–ø–∞—Ä—Å–∏—Ç—å –≤—Å–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–æ—Å—Ç—ã —á–µ—Ä–µ–∑ telethon
- –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ Qdrant (—Å–æ–∑–¥–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ LangChain)
- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```
/add_group https://t.me/news_channel
```

---

#### `/delete_group <–≥—Ä—É–ø–ø–∞_—Å—Å—ã–ª–∫–∞>`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª –∏–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  
**–î–µ–π—Å—Ç–≤–∏–µ:**
- –£–¥–∞–ª–∏—Ç—å –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
- –£–¥–∞–ª–∏—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –∏–∑ Qdrant

**–ü—Ä–∏–º–µ—Ä:**
```
/delete_group https://t.me/news_channel
```

---

### 2. –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### `POST /api/completion`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å AI-–æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π  
**–ú–µ—Ç–æ–¥:** REST API (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ inline-callback –±–æ—Ç–æ–º)  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```json
{
  "user_id": 123456789,
  "question": "–ö–∞–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é?",
  "top_k": 5
}
```

**–ü—Ä–æ—Ü–µ—Å—Å (LangChain RAG):**
1. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å –≤ —ç–º–±–µ–¥–¥–∏–Ω–≥
2. –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –≤ Qdrant (top_k —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
3. –°–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. –ü–µ—Ä–µ–¥–∞—Ç—å –≤ LLM —Å –ø—Ä–æ–º–ø—Ç–æ–º
5. –í–µ—Ä–Ω—É—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç

**–û—Ç–≤–µ—Ç:**
```json
{
  "answer": "–ù–∞ –æ—Å–Ω–æ–≤–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞ –Ω–µ–¥–µ–ª—é...",
  "sources": [
    {"channel": "news_channel", "date": "2025-12-05", "post_id": 12345}
  ]
}
```

---

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏ –ø–æ –ø–µ—Ä–∏–æ–¥—É

#### `POST /api/summary`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Ç–∫–æ–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑—é–º–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```json
{
  "user_id": 123456789,
  "start_date": "2025-12-01",
  "end_date": "2025-12-05",
  "channels": ["channel_1", "channel_2"]
}
```

**–ü—Ä–æ—Ü–µ—Å—Å (LangGraph multi-step):**
1. –ó–∞–ø—Ä–æ—Å –ø–æ—Å—Ç–æ–≤ –∏–∑ –ë–î –∑–∞ –ø–µ—Ä–∏–æ–¥
2. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–µ–º–∞–º —á–µ—Ä–µ–∑ LLM
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ
4. –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "summary": "–°–ê–ú–ú–ê–†–ò –ó–ê –ü–ï–†–ò–û–î...\n\nüì∞ –ü–æ–ª–∏—Ç–∏–∫–∞:\n...\nüíº –≠–∫–æ–Ω–æ–º–∏–∫–∞:\n...",
  "posts_processed": 47,
  "period": "2025-12-01 –¥–æ 2025-12-05"
}
```

---

**–ê–≤—Ç–æ—Ä—ã:** [Vladimir Enshov](https://github.com/Astra42), [Zavodov Andrey](https://github.com/SleekVortex/)
